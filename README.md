# study_network
# Goals
 - 인프라 환경 구축을 진행할 떄 네트워크 지식떄문에 가로막히는 게 없으면 좋겠습니다.
 - HTTP 통신에 대해 정확히 알고있는지 모르겠습니다.
 - 사실 저는 스위치와 라우터의 차이점을 잘 모릅니다
   -  L4 라우터와 L7 라우터의 차이점은 무엇인가요?
 -  최종적으로 AWS 인프라 환경을 구축해보고 싶습니다.
   -  WAF, WF, ALB, ELB가 무엇인지 알고 Private VPC를 잇는 게이트웨이를 생성해보는 아키텍처 구조를 학습해보고 싶습니다.


## 고려하고 있는 도서
 
### 후니의 쉽게 쓴 시스코 네트워킹 (PASS)
 - 아주 유명하다고는 하는데, 교재가 고리타분 해 보임
 - OSI 7 Layer부터 Switching, Routing, 무선까지 정말 정리가 잘 되어서 나왔다.
 - 본 사람들 후기가 너무 안좋음  
출처: https://josaboo.tistory.com/11 [조사부 THe Network Story:티스토리]

### TCP/IP가 보이는 그림책
 - 정보보안, 네트워크, 프로그래밍을 하는 사람들에겐 정말 필수적으로 알아야 되는 기초지식
출처: https://josaboo.tistory.com/11 [조사부 THe Network Story:티스토리]

###  한 권으로 끝내는 네트워크 기초  (선택)
 - 비전공자가 봐도 될정도로 쉬움
 - 200장 남짓
 - 간단하게 보고 넘어갈수있음
https://www.yes24.com/Product/Goods/109988382



# 스위치

- L2 : 유선 랜을 묶는 스위치
- L3 : 네트워크 네트워크를 연결하는 스위치
- L4 && L7 : 부하 분산 및 애플리케이션에 맞게 통신을 제어할 수 있는 고급스위치
    - L4 :  페이로드에 대해 분석하지 않음
    - L7 :  페이로드 분석이 가능하므로 L4 보다 더 유동적으로 네트워크 분석 가능

# 라우터

- 스위치와 같이 네트워크와 네트워크를 잇는 장비 (차이점은?)

# 가상라우터

## VPC

- 퍼블릭 클라우드를 프라이빗 클라우드 환경으로 이용하는 기술

# TCP/IP

- 네트워크로 통신하기 위해 맞춰진 통신규격

## TCP/IP 4계층

## 응용 계층 - Http, DNs 등

- Application에 맞춰서 통신

## 전송 계층 - TCP, UDP

- IP와 애플리케이션을 중개해서 송신된 데이터를 확실하게 전달

## 인터넷 계층 - IP, ICMP, ARP 등

- 네트워크 주소를 기반으로 수신 측 컴퓨터까지 데이터를 전송한다.

## 네트워크 접근 계층 - 이더넷 무선 랜 등 (WIFI)

- 컴퓨터를 물리적으로 네트워크에 연결하여 기기 간 전송

## L4 스위치와 L4 라우터의 차이점

| **항목** | **L4 스위치** | **L4 라우터** |
| --- | --- | --- |
| 주된 역할 | 트래픽 분산 및 고속 전환 | 정책 기반 라우팅 및 보안 |
| 처리 방식 | 하드웨어 중심 (고속) | 소프트웨어 중심 (유연) |
| 위치 | 서버팜, 내부 네트워크 | 게이트웨이, 외부 라우팅 경계 |
| 트래픽 제어 기준 | 포트 기반 세션 처리 | 포트 및 정책 기반 라우팅 |
| 장점 | 빠르고 안정적인 부하분산 | 복잡한 라우팅 및 보안 지원 |

| 항목 | L3 스위치 | L3 라우터 |
| --- | --- | --- |
| 목적 | 고속 내부 통신 | 네트워크 간 연결과 제어 |
| 속도 | 빠름 | 느릴 수 있음 (기능 우선) |
| 기능 | 제한적 (기본 라우팅 위주) | 풍부함 (보안, 제어, 확장성) |
| 사용 위치 | 기업 내부 코어 스위칭 | 네트워크 경계, WAN, 보안 구간 |

# OSI 7계층
![image](https://github.com/user-attachments/assets/d1bd03c9-9eff-42c4-b09e-da4be43a66e3)


- 수신자 발신자의 통신은 발신자는 L7부터 순차적으로 내려가고 ,
수신자는 L1부터 순차적으로 올라간다

## DHCP(Dynamic Host Configuration Protocol)

- **네트워크에 연결된 장치들에게 자동으로 IP 주소 및 기타 네트워크 구성 정보를 할당하는 프로토콜**

# 서브넷 마스크

- IP 주소에서 네트워크 부가 어디부터 어디까지 인지 나타내는 것이 넷마스크(서브넷 마스크)

# IP

- 네트워크부와 호스트부로 이루어져있음

### IP주소를 할당해야하는 컴퓨티시스템이 많다면?

- 가변 길이 서브넷 마스크를 이용해 호스트 부를 늘리면 됨
    - 호스트부가 커질수록 ARP 등으로 브로드캐스트 통신량이 증가함
    - (특정 IP를 찾기위한 작업량이 많아 지기떄문)
## 주소를 이용한 통신 흐름과 ARP

### 같은네트워크

IP 패킷을 보내고 싶은 상대의 MAC 주소를 조사 후 그 MAC주소로 패킷을 보냄

(MAC 주소를 조사할떄 이용하는 것이 ARP)

### ARP

- 네트워크 전체에 패킷을 보내면 당사자가 ARP reply를 함

### 브로드캐스트

- 네트워크 전체에 패킷을 보내는 것을 브로드캐스트라고 함

## 다른네트워크

1. 미리 지정된 기본 게이트웨이라는 IP 주소로 통신을 보냄

(이때 ARP를 사용해 조사하는 것은 기본 게이트웨이 IP 주소에 대응하는 MAC주소를 찾는 것)

1. 기본 게이트웨이인 라우터가 발신자를 찾아줌

## 라우팅 테이블

- 외부 네트워크에 있는 컴퓨터와 통신할 때 어떤 라우터로 보내야할지 기록되어있는 것이 라우팅 테이블


## NAT

- 여러 개의 사설 IP가 하나의 공인 IP를 사용할 때 사용

## CIDR

e.g) 192.168.0.1/24

해당 표기법에서 /24 부분을 말함 

- 앞에서부터 24비트가 네트워크 부라는 뜻

11111111 11111111 11111111 00000000

= 255.255.255.0

뒤의 1옥텟(8비트) 를 가지고 호스트부를 표현해야하므로 256-2의 아이피 갯수를 사용할 수 있음

## HTTPS

- SSL/TLS 구조로 구현된 기술
- 인터넷 통신을 암호화 하여 제 3자가 통신내용을 훔쳐보거나 조작할 수 없게하는 기술
- TLS가 SSL를 계승한 기술이며, 현재 사용되는것은 SSL이 아닌 TLS (Transport Layer Security)
## Active Directory

- AD는 업무를 수행하는 데에 도움을 주는 데이터베이스
- 특정 조직 내에서 사용자들에 대한 관리를 할 수 있음
    - 특정 권한에 대한 그룹관리 및

## LDAP

- 네트워크 상에서 조직이나 개인, 파일 디바이스 등을 찾아볼 수 있게 해주는 소프트웨어 프로토콜

## RTT

- 네트워킹 왕복시간

## SPDY(HTTP/2)

- 속도가 느린 구형 HTTP 통신을 보완한 프로토콜
![image](https://github.com/user-attachments/assets/1fa547f6-d0b7-4ce3-b733-6e0b8931cb6a)


- 반복되는 헤더 데이터등을 줄여 페이지 로드 시간을 단축시킬 수 있음
- 하나의 커넥션 안에서 다수의 독립적인 스트림을 동시에 처리
- 클라이언트의 요청 전 서버에서 먼저 클라이언트에게 콘텐츠를 Push 할 수 있음
- TLS 설정이 필수임 (HTTP 통신불가)

## UTM

- 방화벽, VPN, 안티바이러스 ,IDS/IPS, 컨텐츠 필터링 등의 기능을 한 기기에서 전부 제공하는 것
- 좀 더 다양한 방법으로 클라이언트의 행위륽 제어할 수 있음

e.g) 웹사이트 행동에 근거한 통신제어

## 포워드 프록시

![image](https://github.com/user-attachments/assets/742bd7bc-ff06-43b4-bfee-1669aa016cc4)

- 클라이언트 정보가 서버에 노출되지 않음
- 정적 리소스 캐싱
- 컨텐츠 액세스 제한

## 리버스 프록시

![image](https://github.com/user-attachments/assets/7149eac7-0c56-4311-8a9d-04900942b47b)

- 클라이언트는 서버의 존재를 모름
- 로드밸런싱 가능(프록시에서)
- 무중단 배포 가능
    - 배포 진행중인 서버를 프록시가 알수 있으므로 해당 서버로 클라이언트 요청을 보내지 않음
